# ========================================
#         CORE SETTINGS                  #
# ========================================

# Change prefix to Ctrl+q
unbind C-b
set-option -g prefix C-q
bind-key C-q send-prefix
set -ga terminal-overrides ",*-256color:Tc"

# Quick reload config
bind r source-file ~/.config/tmux/tmux.conf

# Enable mouse support
# Use mouse support to be able to scroll with mouse wheel
set -g mouse on

# ========================================
#         PANE MANAGEMENT                #
# ========================================

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Pane navigation with Ctrl+(hjkl) (no prefix)
bind -n C-h select-pane -L
bind -n C-l select-pane -R
bind -n C-k select-pane -U
bind -n C-j select-pane -D

# Resize panes with prefix + HJKL
bind -r H resize-pane -L 5
bind -r L resize-pane -R 5
bind -r K resize-pane -U 5
bind -r J resize-pane -D 5

# ========================================
#            VISUAL STYLING              #
# ========================================

# Status bar base styling
set -g status on
set -g status-position bottom
set -g status-interval 5
set -g status-justify left
set -g status-bg '#32302F'
set -g status-fg '#d7af87'

# Window appearance in status bar
setw -g window-status-format '#[bg=#3D3D3D,fg=#d7af87]  #W  '
setw -g window-status-current-format '#[bg=yellow,fg=#282828,bold]  #W  '
setw -g window-status-separator ''

# Message styling
set -g message-style 'fg=#83a598,bg=#282828,bold'

# Status line content
set -g status-left-length 100
set -g status-right-length 100
set -g status-left ""
set -g status-right '#{prefix_highlight}'

# ========================================
#         ADDITIONNAL KEYBINDINGS        #
# ========================================
# Open a new pane in CWD and run `opencode .`
bind o split-window -h -c "#{pane_current_path}" "opencode ."
